# =============================================================================
# Relace MCP Server - Environment Variables
# =============================================================================
# Copy this file to .env for local development.
# For MCP usage, set these in your mcp_config.json "env" section instead.
# =============================================================================

# -----------------------------------------------------------------------------
# Required
# -----------------------------------------------------------------------------

# Relace API Key (get yours at: https://app.relace.ai/settings/billing)
RELACE_API_KEY=rlc-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# -----------------------------------------------------------------------------
# Recommended
# -----------------------------------------------------------------------------

# Restrict file access to this directory (prevents path traversal attacks)
# Defaults to current working directory if not set
RELACE_BASE_DIR=/path/to/your/project

# Enable file logging (default: disabled)
# RELACE_LOGGING=1

# Enable cloud tools (default: disabled)
# RELACE_CLOUD_TOOLS=1

# -----------------------------------------------------------------------------
# Advanced: Apply API Settings
# -----------------------------------------------------------------------------

# Apply provider (default: relace)
# Set to openai/openrouter/cerebras (or any non-"relace" label) to use an OpenAI-compatible chat.completions endpoint.
# RELACE_APPLY_PROVIDER=relace

# API key selection (in order):
# 1) RELACE_APPLY_API_KEY
# 2) Provider default env var (e.g. OPENAI_API_KEY / OPENROUTER_API_KEY / CEREBRAS_API_KEY)
#
# RELACE_APPLY_API_KEY=
#
# OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# OPENROUTER_API_KEY=sk-or-v1-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# CEREBRAS_API_KEY=csk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Apply API endpoint (default: Relace official endpoint)
# RELACE_APPLY_ENDPOINT=https://instantapply.endpoint.relace.run/v1/apply

# Apply model name (Relace default: auto)
# RELACE_APPLY_MODEL=auto

# Optional: override the OpenAI-compatible apply prompt YAML (developer/debug)
# RELACE_APPLY_PROMPT_FILE=/path/to/apply_openai.yaml

# Apply request timeout in seconds
# RELACE_TIMEOUT_SECONDS=60

# EXPERIMENTAL: Post-check validation after fast_apply merges (default: disabled)
# RELACE_EXPERIMENTAL_POST_CHECK=1

# -----------------------------------------------------------------------------
# Advanced: Search API Settings
# -----------------------------------------------------------------------------

# Search provider (default: relace)
# Set to openai/openrouter/cerebras (or any non-"relace" label) to use an OpenAI-compatible chat.completions endpoint.
# RELACE_SEARCH_PROVIDER=relace

# API key selection (in order):
# 1) RELACE_SEARCH_API_KEY
# 2) Provider default env var (e.g. OPENAI_API_KEY / OPENROUTER_API_KEY / CEREBRAS_API_KEY)
#
# RELACE_SEARCH_API_KEY=
#
# OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# OPENROUTER_API_KEY=sk-or-v1-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# CEREBRAS_API_KEY=csk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Search API endpoint (default: Relace official endpoint)
# RELACE_SEARCH_ENDPOINT=https://search.endpoint.relace.run/v1/search

# Search model name
# RELACE_SEARCH_MODEL=relace-search

# Search request timeout in seconds
# RELACE_SEARCH_TIMEOUT_SECONDS=120

# Maximum agent turns for search
# RELACE_SEARCH_MAX_TURNS=6

# Allow the model to emit multiple tool calls per turn (improves latency when tools are independent)
# RELACE_SEARCH_PARALLEL_TOOL_CALLS=1

# Restrict Fast Agentic Search tools (comma/space separated allowlist). `report_back` is always enabled.
# Example (recommended minimal set):
# RELACE_SEARCH_ENABLED_TOOLS=view_file,view_directory,grep_search,glob

# Tool schema compatibility: include `strict` field in tool schemas (default: 1)
# Set to 0 to omit the non-standard `strict` field if your OpenAI-compatible endpoint rejects it
# RELACE_SEARCH_TOOL_STRICT=1

# Optional: override the Fast Search prompt YAML (developer/debug)
# RELACE_SEARCH_PROMPT_FILE=/path/to/search.yaml

# -----------------------------------------------------------------------------
# Advanced: LSP Settings (for find_symbol tool)
# -----------------------------------------------------------------------------

# LSP request timeout in seconds (default: 15)
# RELACE_LSP_TIMEOUT_SECONDS=15
